"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[6428],{3308:function(t,e,n){function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function a(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}n.d(e,{Ue:function(){return r},Wd:function(){return i},d9:function(){return a}});const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:a,create:r,createView:function(t,e){return new Float64Array(t,e,16)},fromValues:function(t,e,n,r,a,i,s,o,c,u,h,f,l,d,_,M){return[t,e,n,r,a,i,s,o,c,u,h,f,l,d,_,M]}},Symbol.toStringTag,{value:"Module"}))},96303:function(t,e,n){function r(){return[0,0,0,1]}function a(t){return[t[0],t[1],t[2],t[3]]}n.d(e,{Ue:function(){return r},Wd:function(){return i},d9:function(){return a}});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:a,create:r,createView:function(t,e){return new Float64Array(t,e,4)},fromValues:function(t,e,n,r){return[t,e,n,r]}},Symbol.toStringTag,{value:"Module"}))},1845:function(t,e,n){n.d(e,{Bh:function(){return h},I6:function(){return R},Jp:function(){return f},Kx:function(){return d},Su:function(){return M},t8:function(){return I},yY:function(){return u}});var r=n(3965),a=n(96303),i=n(81095),s=n(40201),o=n(86717),c=n(56999);function u(t,e,n){n*=.5;const r=Math.sin(n);return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=Math.cos(n),t}function h(t,e){const n=2*Math.acos(e[3]),r=Math.sin(n/2);return r>(0,s.bn)()?(t[0]=e[0]/r,t[1]=e[1]/r,t[2]=e[2]/r):(t[0]=1,t[1]=0,t[2]=0),n}function f(t,e,n){const r=e[0],a=e[1],i=e[2],s=e[3],o=n[0],c=n[1],u=n[2],h=n[3];return t[0]=r*h+s*o+a*u-i*c,t[1]=a*h+s*c+i*o-r*u,t[2]=i*h+s*u+r*c-a*o,t[3]=s*h-r*o-a*c-i*u,t}function l(t,e,n,r){const a=e[0],i=e[1],o=e[2],c=e[3];let u,h,f,l,d,_=n[0],M=n[1],E=n[2],I=n[3];return h=a*_+i*M+o*E+c*I,h<0&&(h=-h,_=-_,M=-M,E=-E,I=-I),1-h>(0,s.bn)()?(u=Math.acos(h),f=Math.sin(u),l=Math.sin((1-r)*u)/f,d=Math.sin(r*u)/f):(l=1-r,d=r),t[0]=l*a+d*_,t[1]=l*i+d*M,t[2]=l*o+d*E,t[3]=l*c+d*I,t}function d(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function _(t,e){const n=e[0]+e[4]+e[8];let r;if(n>0)r=Math.sqrt(n+1),t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r;else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const a=(n+1)%3,i=(n+2)%3;r=Math.sqrt(e[3*n+n]-e[3*a+a]-e[3*i+i]+1),t[n]=.5*r,r=.5/r,t[3]=(e[3*a+i]-e[3*i+a])*r,t[a]=(e[3*a+n]+e[3*n+a])*r,t[i]=(e[3*i+n]+e[3*n+i])*r}return t}function M(t,e,n,r){const a=.5*Math.PI/180;e*=a,n*=a,r*=a;const i=Math.sin(e),s=Math.cos(e),o=Math.sin(n),c=Math.cos(n),u=Math.sin(r),h=Math.cos(r);return t[0]=i*c*h-s*o*u,t[1]=s*o*h+i*c*u,t[2]=s*c*u-i*o*h,t[3]=s*c*h+i*o*u,t}const E=c.c,I=c.s,m=c.f,A=f,U=c.b,N=c.g,T=c.l,P=c.i,S=P,g=c.j,O=g,b=c.n,R=c.a,j=c.e;const C=(0,i.Ue)(),p=(0,i.al)(1,0,0),L=(0,i.al)(0,1,0);const x=(0,a.Ue)(),F=(0,a.Ue)();const w=(0,r.Ue)();Object.freeze(Object.defineProperty({__proto__:null,add:m,calculateW:function(t,e){const n=e[0],r=e[1],a=e[2];return t[0]=n,t[1]=r,t[2]=a,t[3]=Math.sqrt(Math.abs(1-n*n-r*r-a*a)),t},conjugate:d,copy:E,dot:N,equals:j,exactEquals:R,fromEuler:M,fromMat3:_,getAxisAngle:h,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},invert:function(t,e){const n=e[0],r=e[1],a=e[2],i=e[3],s=n*n+r*r+a*a+i*i,o=s?1/s:0;return t[0]=-n*o,t[1]=-r*o,t[2]=-a*o,t[3]=i*o,t},len:S,length:P,lerp:T,mul:A,multiply:f,normalize:b,random:function(t){const e=s.FD,n=e(),r=e(),a=e(),i=Math.sqrt(1-n),o=Math.sqrt(n);return t[0]=i*Math.sin(2*Math.PI*r),t[1]=i*Math.cos(2*Math.PI*r),t[2]=o*Math.sin(2*Math.PI*a),t[3]=o*Math.cos(2*Math.PI*a),t},rotateX:function(t,e,n){n*=.5;const r=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(n),c=Math.cos(n);return t[0]=r*c+s*o,t[1]=a*c+i*o,t[2]=i*c-a*o,t[3]=s*c-r*o,t},rotateY:function(t,e,n){n*=.5;const r=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(n),c=Math.cos(n);return t[0]=r*c-i*o,t[1]=a*c+s*o,t[2]=i*c+r*o,t[3]=s*c-a*o,t},rotateZ:function(t,e,n){n*=.5;const r=e[0],a=e[1],i=e[2],s=e[3],o=Math.sin(n),c=Math.cos(n);return t[0]=r*c+a*o,t[1]=a*c-r*o,t[2]=i*c+s*o,t[3]=s*c-i*o,t},rotationTo:function(t,e,n){const r=(0,o.k)(e,n);return r<-.999999?((0,o.b)(C,p,e),(0,o.H)(C)<1e-6&&(0,o.b)(C,L,e),(0,o.n)(C,C),u(t,C,Math.PI),t):r>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):((0,o.b)(C,e,n),t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=1+r,b(t,t))},scale:U,set:I,setAxes:function(t,e,n,r){const a=w;return a[0]=n[0],a[3]=n[1],a[6]=n[2],a[1]=r[0],a[4]=r[1],a[7]=r[2],a[2]=-e[0],a[5]=-e[1],a[8]=-e[2],b(t,_(t,a))},setAxisAngle:u,slerp:l,sqlerp:function(t,e,n,r,a,i){return l(x,e,a,i),l(F,n,r,i),l(t,x,F,2*i*(1-i)),t},sqrLen:O,squaredLength:g,str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}},Symbol.toStringTag,{value:"Module"}))},43176:function(t,e,n){n.d(e,{B:function(){return u}});var r=n(19431),a=n(32114),i=n(81095);function s(t,e,n){const r=Math.sin(t),a=Math.cos(t),i=Math.sin(e),s=Math.cos(e),o=n;return o[0]=-r,o[4]=-i*a,o[8]=s*a,o[12]=0,o[1]=a,o[5]=-i*r,o[9]=s*r,o[13]=0,o[2]=0,o[6]=s,o[10]=i,o[14]=0,o[3]=0,o[7]=0,o[11]=0,o[15]=1,o}var o=n(19508),c=n(35925);function u(t,e,n,r){if(null==t||null==r)return!1;const i=(0,o.eT)(t,o.Jz),u=(0,o.eT)(r,o.sp);if(i===u&&!h(u)&&(i!==o.Ej.UNKNOWN||(0,c.fS)(t,r)))return(0,a.vc)(n,e),!0;if(h(u)){const t=o.rf[i][o.Ej.LON_LAT],r=o.rf[o.Ej.LON_LAT][u];return null!=t&&null!=r&&(t(e,0,l,0),r(l,0,d,0),s(f*l[0],f*l[1],n),n[12]=d[0],n[13]=d[1],n[14]=d[2],!0)}if((u===o.Ej.WEB_MERCATOR||u===o.Ej.PLATE_CARREE||u===o.Ej.WGS84)&&(i===o.Ej.WGS84||i===o.Ej.CGCS2000&&u===o.Ej.PLATE_CARREE||i===o.Ej.SPHERICAL_ECEF||i===o.Ej.WEB_MERCATOR)){const t=o.rf[i][o.Ej.LON_LAT],r=o.rf[o.Ej.LON_LAT][u];return null!=t&&null!=r&&(t(e,0,l,0),r(l,0,d,0),i===o.Ej.SPHERICAL_ECEF?function(t,e,n){s(t,e,n),(0,a.p4)(n,n)}(f*l[0],f*l[1],n):(0,a.yR)(n),n[12]=d[0],n[13]=d[1],n[14]=d[2],!0)}return!1}function h(t){return t===o.Ej.SPHERICAL_ECEF||t===o.Ej.SPHERICAL_MARS_PCPF||t===o.Ej.SPHERICAL_MOON_PCPF}const f=(0,r.Vl)(1),l=(0,i.Ue)(),d=(0,i.Ue)()},61170:function(t,e,n){n.d(e,{rS:function(){return u}});var r=n(69442),a=n(14685),i=n(35925);const s=new a.Z(r.kU),o=new a.Z(r.JL),c=new a.Z(r.mM);new a.Z(r.pn);function u(t){const e=h.get(t);if(e)return e;let n=s;if(t)if(t===o)n=o;else if(t===c)n=c;else{const e=t.wkid,r=t.latestWkid;if(null!=e||null!=r)(0,i.o$)(e)||(0,i.o$)(r)?n=o:((0,i.ME)(e)||(0,i.ME)(r))&&(n=c);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===f?n=o:t===l&&(n=c)}}}return h.set(t,n),n}const h=new Map,f=o.wkt.toUpperCase(),l=c.wkt.toUpperCase()},39050:function(t,e,n){n.d(e,{oq:function(){return m},Er:function(){return A},JG:function(){return o},Ue:function(){return s},zu:function(){return f},zk:function(){return h},st:function(){return c},jH:function(){return U}});n(19431);var r=n(86717),a=n(81095),i=n(56999);n(5700),n(68817);(0,a.Ue)(),(0,a.Ue)(),(0,a.Ue)(),(0,a.Ue)(),(0,a.Ue)();function s(t=N){return[t[0],t[1],t[2],t[3]]}i.a,i.e;function o(t,e){return u(e[0],e[1],e[2],e[3],t)}function c(t){return t}function u(t,e,n,r,a=s()){return a[0]=t,a[1]=e,a[2]=n,a[3]=r,a}function h(t,e,n,r=s()){const a=n[0]-e[0],i=n[1]-e[1],o=n[2]-e[2],c=t[0]-e[0],u=t[1]-e[1],h=t[2]-e[2],f=i*h-o*u,l=o*c-a*h,d=a*u-i*c,_=f*f+l*l+d*d,M=Math.abs(_-1)>1e-5&&_>1e-12?1/Math.sqrt(_):1;return r[0]=f*M,r[1]=l*M,r[2]=d*M,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function f(t,e,n,a=0,i=Math.floor(n*(1/3)),s=Math.floor(n*(2/3))){if(n<3)return!1;e(d,a);let o=i,c=!1;for(;o<n-1&&!c;)e(_,o),o++,c=!(0,r.j)(d,_);if(!c)return!1;for(o=Math.max(o,s),c=!1;o<n&&!c;)e(M,o),o++,(0,r.f)(E,d,_),(0,r.n)(E,E),(0,r.f)(I,_,M),(0,r.n)(I,I),c=!(0,r.j)(d,M)&&!(0,r.j)(_,M)&&Math.abs((0,r.k)(E,I))<l;return c?(h(d,_,M,t),!0):(0!==a||1!==i||2!==s)&&f(t,e,n,0,1,2)}const l=.99619469809,d=(0,a.Ue)(),_=(0,a.Ue)(),M=(0,a.Ue)(),E=(0,a.Ue)(),I=(0,a.Ue)();function m(t,e){const n=(0,r.k)(t,e.ray.direction),a=-U(t,e.ray.origin);if(a<0&&n>=0)return!1;if(n>-1e-6&&n<1e-6)return a>0;if((a<0||n<0)&&!(a<0&&n<0))return!0;const i=a/n;return n>0?i<e.c1&&(e.c1=i):i>e.c0&&(e.c0=i),e.c0<=e.c1}function A(t,e){const n=(0,r.k)(t,e.ray.direction),a=-U(t,e.ray.origin);if(n>-1e-6&&n<1e-6)return a>0;const i=a/n;return n>0?i<e.c1&&(e.c1=i):i>e.c0&&(e.c0=i),e.c0<=e.c1}function U(t,e){return(0,r.k)(t,e)+t[3]}const N=[0,0,1,0];var T,P;(P=T||(T={}))[P.NONE=0]="NONE",P[P.CLAMP=1]="CLAMP",P[P.INFINITE_MIN=4]="INFINITE_MIN",P[P.INFINITE_MAX=8]="INFINITE_MAX";T.INFINITE_MIN,T.INFINITE_MAX,T.INFINITE_MAX},5700:function(t,e,n){n.d(e,{EU:function(){return o},SR:function(){return s}});var r=n(19431),a=n(86717),i=n(81095);function s(t,e){return(0,a.k)(t,e)/(0,a.l)(t)}function o(t,e){const n=(0,a.k)(t,e)/((0,a.l)(t)*(0,a.l)(e));return-(0,r.ZF)(n)}(0,i.Ue)(),(0,i.Ue)()},68817:function(t,e,n){n.d(e,{MP:function(){return d},vD:function(){return _},WM:function(){return f},o6:function(){return l}});var r=n(66581),a=n(3965),i=n(3308),s=n(96303),o=n(84164),c=n(81095),u=n(52721);class h{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.Y)((()=>this._reset())),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new h(o.Ue)}static createVec3f64(){return new h(c.Ue)}static createVec4f64(){return new h(u.Ue)}static createMat3f64(){return new h(a.Ue)}static createMat4f64(){return new h(i.Ue)}static createQuatf64(){return new h(s.Ue)}get test(){return{length:this._items.length}}}h.createVec2f64();const f=h.createVec3f64(),l=h.createVec4f64(),d=(h.createMat3f64(),h.createMat4f64()),_=h.createQuatf64()},47850:function(t,e,n){n.d(e,{Oo:function(){return Ut},Qb:function(){return bt},gI:function(){return Ct}});var r=n(46332),a=n(3965),i=n(3308),s=n(1845),o=n(96303),c=n(86717),u=n(81095),h=n(56999),f=n(52721),l=n(69442),d=n(61170),_=n(43176),M=n(22349),E=n(19508),I=n(39050),m=n(35925),A=n(68817),U=n(65684),N=n(84164),T=n(85799);const P=1e-6,S=(0,u.Ue)(),g=(0,u.Ue)();function O(t,e,n,r,a,i,s,o,c,u){return function(t,e,n){let r=mt(t.maxVert[0],t.minVert[0]),a=0;for(let e=1;e<7;++e){const n=mt(t.maxVert[e],t.minVert[e]);n>r&&(r=n,a=e)}_t(e,t.minVert[a]),_t(n,t.maxVert[a])}(t,r,a),mt(r,a)<P?1:(lt(s,r,a),Et(s,s),function(t,e,n,r){const{data:a,size:i}=t;let s=Number.NEGATIVE_INFINITY,o=0;for(let t=0;t<a.length;t+=i){y[0]=a[t]-e[0],y[1]=a[t+1]-e[1],y[2]=a[t+2]-e[2];const r=n[0]*y[0]+n[1]*y[1]+n[2]*y[2],i=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],c=y[0]*y[0]+y[1]*y[1]+y[2]*y[2]-r*r/i;c>s&&(s=c,o=t)}return _t(r,a,o),s}(e,r,s,i)<P?2:(lt(o,a,i),Et(o,o),lt(c,i,r),Et(c,c),Mt(n,o,s),Et(n,n),k(e,n,s,o,c,u),0))}const b=(0,u.Ue)(),R=(0,u.Ue)(),j=(0,u.Ue)(),C=(0,u.Ue)(),p=(0,u.Ue)(),L=(0,u.Ue)(),x=(0,u.Ue)(),F=(0,u.Ue)();function w(t,e,n,r,a,i,s,o,c){(function(t,e,n,r,a){!function(t,e,n,r,a){const{data:i,size:s}=t;_t(r,i),_t(a,r),n[0]=At(H,e),n[1]=n[0];for(let t=s;t<i.length;t+=s){const s=i[t]*e[0]+i[t+1]*e[1]+i[t+2]*e[2];s<n[0]&&(n[0]=s,_t(r,i,t)),s>n[1]&&(n[1]=s,_t(a,i,t))}}(t,e,V,a,r);const i=At(n,e);V[1]-P<=i&&(r[0]=void 0),V[0]+P>=i&&(a[0]=void 0)})(t,e,n,b,R),void 0!==b[0]&&(lt(j,b,n),Et(j,j),lt(C,b,r),Et(C,C),lt(p,b,a),Et(p,p),Mt(L,C,i),Et(L,L),Mt(x,p,s),Et(x,x),Mt(F,j,o),Et(F,F),k(t,L,i,C,j,c),k(t,x,s,p,C,c),k(t,F,o,j,p,c)),void 0!==R[0]&&(lt(j,R,n),Et(j,j),lt(C,R,r),Et(C,C),lt(p,R,a),Et(p,p),Mt(L,C,i),Et(L,L),Mt(x,p,s),Et(x,x),Mt(F,j,o),Et(F,F),k(t,L,i,C,j,c),k(t,x,s,p,C,c),k(t,F,o,j,p,c))}const y=[0,0,0];const V=(0,N.Ue)();const v=(0,u.Ue)(),z=(0,u.Ue)(),D=(0,u.Ue)(),q=(0,u.Ue)(),B=(0,u.Ue)(),G=(0,u.Ue)();function k(t,e,n,r,a,i){if(It(e)<P)return;Mt(v,n,e),Mt(z,r,e),Mt(D,a,e),W(t,e,V),B[1]=V[0],q[1]=V[1],G[1]=q[1]-B[1];const s=[n,r,a],o=[v,z,D];for(let n=0;n<3;++n){W(t,s[n],V),B[0]=V[0],q[0]=V[1],W(t,o[n],V),B[2]=V[0],q[2]=V[1],G[0]=q[0]-B[0],G[2]=q[2]-B[2];const r=ht(G);r<i.quality&&(_t(i.b0,s[n]),_t(i.b1,e),_t(i.b2,o[n]),i.quality=r)}}const H=(0,u.Ue)();function W(t,e,n){const{data:r,size:a}=t;n[0]=Number.POSITIVE_INFINITY,n[1]=Number.NEGATIVE_INFINITY;for(let t=0;t<r.length;t+=a){const a=r[t]*e[0]+r[t+1]*e[1]+r[t+2]*e[2];n[0]=Math.min(n[0],a),n[1]=Math.max(n[1],a)}}function Y(t,e,n){n.center=t,n.halfSize=(0,c.h)(e,e,.5),n.quaternion=o.Wd}const Q=(0,u.Ue)(),X=(0,u.Ue)(),Z=(0,u.Ue)(),J=(0,u.Ue)(),K=(0,u.Ue)(),$=(0,u.Ue)();function tt(t,e,n){_t(Q,e),Math.abs(e[0])>Math.abs(e[1])&&Math.abs(e[0])>Math.abs(e[2])?Q[0]=0:Math.abs(e[1])>Math.abs(e[2])?Q[1]=0:Q[2]=0,It(Q)<P&&(Q[0]=Q[1]=Q[2]=1),Mt(X,e,Q),Et(X,X),Mt(Z,e,X),Et(Z,Z),et(t,e,X,Z,J,K),lt($,K,J),ot(e,X,Z,J,K,$,n)}function et(t,e,n,r,a,i){W(t,e,V),a[0]=V[0],i[0]=V[1],W(t,n,V),a[1]=V[0],i[1]=V[1],W(t,r,V),a[2]=V[0],i[2]=V[1]}const nt=(0,u.Ue)(),rt=(0,u.Ue)(),at=(0,u.Ue)(),it=(0,a.al)(1,0,0,0,1,0,0,0,1),st=(0,o.Ue)();function ot(t,e,n,r,a,i,s){it[0]=t[0],it[1]=t[1],it[2]=t[2],it[3]=e[0],it[4]=e[1],it[5]=e[2],it[6]=n[0],it[7]=n[1],it[8]=n[2],s.quaternion=function(t,e){const n=e[0]+e[4]+e[8];if(n>0){let r=Math.sqrt(n+1);t[3]=.5*r,r=.5/r,t[0]=(e[5]-e[7])*r,t[1]=(e[6]-e[2])*r,t[2]=(e[1]-e[3])*r}else{let n=0;e[4]>e[0]&&(n=1),e[8]>e[3*n+n]&&(n=2);const r=(n+1)%3,a=(n+2)%3;let i=Math.sqrt(e[3*n+n]-e[3*r+r]-e[3*a+a]+1);t[n]=.5*i,i=.5/i,t[3]=(e[3*r+a]-e[3*a+r])*i,t[r]=(e[3*r+n]+e[3*n+r])*i,t[a]=(e[3*a+n]+e[3*n+a])*i}return t}(st,it),ft(nt,r,a),dt(nt,nt,.5),dt(rt,t,nt[0]),dt(at,e,nt[1]),ft(rt,rt,at),dt(at,n,nt[2]),s.center=(0,c.g)(rt,rt,at),s.halfSize=(0,c.h)(nt,i,.5)}class ct{constructor(t){this.minVert=new Array(7),this.maxVert=new Array(7);this.buffer=new ArrayBuffer(448);let e=0;this.minProj=new Float64Array(this.buffer,e,7),e+=56,this.maxProj=new Float64Array(this.buffer,e,7),e+=56;for(let t=0;t<7;++t)this.minVert[t]=new Float64Array(this.buffer,e,3),e+=24;for(let t=0;t<7;++t)this.maxVert[t]=new Float64Array(this.buffer,e,3),e+=24;for(let t=0;t<7;++t)this.minProj[t]=Number.POSITIVE_INFINITY,this.maxProj[t]=Number.NEGATIVE_INFINITY;const n=new Array(7),r=new Array(7),{data:a,size:i}=t;for(let t=0;t<a.length;t+=i){let e=a[t];e<this.minProj[0]&&(this.minProj[0]=e,n[0]=t),e>this.maxProj[0]&&(this.maxProj[0]=e,r[0]=t),e=a[t+1],e<this.minProj[1]&&(this.minProj[1]=e,n[1]=t),e>this.maxProj[1]&&(this.maxProj[1]=e,r[1]=t),e=a[t+2],e<this.minProj[2]&&(this.minProj[2]=e,n[2]=t),e>this.maxProj[2]&&(this.maxProj[2]=e,r[2]=t),e=a[t]+a[t+1]+a[t+2],e<this.minProj[3]&&(this.minProj[3]=e,n[3]=t),e>this.maxProj[3]&&(this.maxProj[3]=e,r[3]=t),e=a[t]+a[t+1]-a[t+2],e<this.minProj[4]&&(this.minProj[4]=e,n[4]=t),e>this.maxProj[4]&&(this.maxProj[4]=e,r[4]=t),e=a[t]-a[t+1]+a[t+2],e<this.minProj[5]&&(this.minProj[5]=e,n[5]=t),e>this.maxProj[5]&&(this.maxProj[5]=e,r[5]=t),e=a[t]-a[t+1]-a[t+2],e<this.minProj[6]&&(this.minProj[6]=e,n[6]=t),e>this.maxProj[6]&&(this.maxProj[6]=e,r[6]=t)}for(let t=0;t<7;++t){let e=n[t];_t(this.minVert[t],a,e),e=r[t],_t(this.maxVert[t],a,e)}}}class ut{constructor(){this.b0=(0,u.al)(1,0,0),this.b1=(0,u.al)(0,1,0),this.b2=(0,u.al)(0,0,1),this.quality=0}}function ht(t){return t[0]*t[1]+t[0]*t[2]+t[1]*t[2]}function ft(t,e,n){t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2]}function lt(t,e,n){t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2]}function dt(t,e,n){t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n}function _t(t,e,n=0){t[0]=e[n],t[1]=e[n+1],t[2]=e[n+2]}function Mt(t,e,n){const r=e[0],a=e[1],i=e[2],s=n[0],o=n[1],c=n[2];t[0]=a*c-i*o,t[1]=i*s-r*c,t[2]=r*o-a*s}function Et(t,e){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];if(n>0){const r=1/Math.sqrt(n);t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r}}function It(t){return t[0]*t[0]+t[1]*t[1]+t[2]*t[2]}function mt(t,e){const n=e[0]-t[0],r=e[1]-t[1],a=e[2]-t[2];return n*n+r*r+a*a}function At(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}class Ut{constructor(t=u.AG,e=kt,n=o.Wd){this._data=[t[0],t[1],t[2],e[0],e[1],e[2],n[0],n[1],n[2],n[3]]}clone(){const t=new Ut;return t._data=this._data.slice(),t}invalidate(){this._data[3]=-1}get isValid(){return this._data[3]>=0}static fromData(t){const e=new Ut;return e._data=t.slice(),e}static fromJSON(t){return new Ut(t.center,t.halfSize,t.quaternion)}copy(t){this._data=t.data.slice()}get center(){return(0,c.s)(A.WM.get(),this._data[0],this._data[1],this._data[2])}get centerX(){return this._data[0]}get centerY(){return this._data[1]}get centerZ(){return this._data[2]}getCenter(t){return t[0]=this._data[0],t[1]=this._data[1],t[2]=this._data[2],t}set center(t){this._data[0]=t[0],this._data[1]=t[1],this._data[2]=t[2]}setCenter(t,e,n){this._data[0]=t,this._data[1]=e,this._data[2]=n}get halfSize(){return(0,c.s)(A.WM.get(),this._data[3],this._data[4],this._data[5])}get halfSizeX(){return this._data[3]}get halfSizeY(){return this._data[4]}get halfSizeZ(){return this._data[5]}getHalfSize(t){return t[0]=this._data[3],t[1]=this._data[4],t[2]=this._data[5],t}set halfSize(t){this._data[3]=t[0],this._data[4]=t[1],this._data[5]=t[2]}get quaternion(){return(0,s.t8)(A.vD.get(),this._data[6],this._data[7],this._data[8],this._data[9])}getQuaternion(t){return t[0]=this._data[6],t[1]=this._data[7],t[2]=this._data[8],t[3]=this._data[9],t}set quaternion(t){this._data[6]=t[0],this._data[7]=t[1],this._data[8]=t[2],this._data[9]=t[3]}get data(){return this._data}getCorners(t){const e=Nt,n=this._data;e[0]=n[6],e[1]=n[7],e[2]=n[8],e[3]=n[9];for(let r=0;r<8;++r){const a=t[r];a[0]=(1&r?-1:1)*n[3],a[1]=(2&r?-1:1)*n[4],a[2]=(4&r?-1:1)*n[5],(0,c.u)(a,a,e),a[0]+=n[0],a[1]+=n[1],a[2]+=n[2]}}isVisible(t){return this.intersectPlane(t[0])<=0&&this.intersectPlane(t[1])<=0&&this.intersectPlane(t[2])<=0&&this.intersectPlane(t[3])<=0&&this.intersectPlane(t[4])<=0&&this.intersectPlane(t[5])<=0}get radius(){const t=this._data[3],e=this._data[4],n=this._data[5];return Math.sqrt(t*t+e*e+n*n)}intersectSphere(t){St[0]=this._data[0]-t[0],St[1]=this._data[1]-t[1],St[2]=this._data[2]-t[2];const e=this.getQuaternion(Tt);return(0,s.Kx)(Nt,e),(0,c.u)(St,St,Nt),(0,c.v)(St,St),gt[0]=Math.min(St[0],this._data[3]),gt[1]=Math.min(St[1],this._data[4]),gt[2]=Math.min(St[2],this._data[5]),(0,c.w)(gt,St)<t[3]*t[3]}intersectSphereWithMBS(t,e=this.radius){const n=this._data;St[0]=n[0]-t[0],St[1]=n[1]-t[1],St[2]=n[2]-t[2];const r=t[3],a=r+e;return!((0,c.x)(St)>a*a)&&(Nt[0]=-n[6],Nt[1]=-n[7],Nt[2]=-n[8],Nt[3]=n[9],(0,c.u)(St,St,Nt),(0,c.v)(St,St),gt[0]=Math.min(St[0],n[3]),gt[1]=Math.min(St[1],n[4]),gt[2]=Math.min(St[2],n[5]),(0,c.w)(gt,St)<r*r)}intersectPlane(t){const e=t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3],n=this.projectedRadius((0,I.st)(t));return e>n?1:e<-n?-1:0}intersectRay(t,e,n=0){const r=this._data,a=Nt;a[0]=-r[6],a[1]=-r[7],a[2]=-r[8],a[3]=r[9],St[0]=t[0]-r[0],St[1]=t[1]-r[1],St[2]=t[2]-r[2];const i=(0,c.u)(St,St,Nt),s=(0,c.u)(gt,e,Nt);let o=-1/0,u=1/0;const h=this.getHalfSize(Vt);for(let t=0;t<3;t++){const e=i[t],r=s[t],a=h[t]+n;if(Math.abs(r)>1e-6){const t=(a-e)/r,n=(-a-e)/r;o=Math.max(o,Math.min(t,n)),u=Math.min(u,Math.max(t,n))}else if(e>a||e<-a)return!1}return o<=u}projectedArea(t,e,n,a){const i=this.getQuaternion(Tt);(0,s.Kx)(Nt,i),St[0]=t[0]-this._data[0],St[1]=t[1]-this._data[1],St[2]=t[2]-this._data[2],(0,c.u)(St,St,Nt);const o=this.getHalfSize(Vt),u=St[0]<-o[0]?-1:St[0]>o[0]?1:0,f=St[1]<-o[1]?-1:St[1]>o[1]?1:0,l=St[2]<-o[2]?-1:St[2]>o[2]?1:0,d=Math.abs(u)+Math.abs(f)+Math.abs(l);if(0===d)return 1/0;const _=1===d?4:6,M=6*(u+3*f+9*l+13);(0,r.en)(vt,i),(0,r.bA)(vt,vt,o);const E=this.getCenter(wt);for(let t=0;t<_;t++){const n=jt[M+t];(0,c.s)(St,((1&n)<<1)-1,(2&n)-1,((4&n)>>1)-1),(0,c.t)(St,St,vt),(0,c.g)(Ot,E,St),Ot[3]=1,(0,h.t)(Ot,Ot,e);const r=1/Math.max(1e-6,Ot[3]);Rt[2*t]=Ot[0]*r,Rt[2*t+1]=Ot[1]*r}const I=2*_-2;let m=Rt[0]*(Rt[3]-Rt[I+1])+Rt[I]*(Rt[1]-Rt[I-1]);for(let t=2;t<I;t+=2)m+=Rt[t]*(Rt[t+3]-Rt[t-1]);return Math.abs(m)*n*a*.125}projectedRadius(t){const e=this.getQuaternion(Tt);return(0,s.Kx)(Nt,e),(0,c.u)(St,t,Nt),Math.abs(St[0]*this._data[3])+Math.abs(St[1]*this._data[4])+Math.abs(St[2]*this._data[5])}minimumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]-this.projectedRadius((0,I.st)(t))}maximumDistancePlane(t){return t[0]*this._data[0]+t[1]*this._data[1]+t[2]*this._data[2]+t[3]+this.projectedRadius((0,I.st)(t))}toAaBoundingBox(t){const e=this.getQuaternion(Tt),n=(0,r.en)(vt,e),a=this._data[3]*Math.abs(n[0])+this._data[4]*Math.abs(n[3])+this._data[5]*Math.abs(n[6]),i=this._data[3]*Math.abs(n[1])+this._data[4]*Math.abs(n[4])+this._data[5]*Math.abs(n[7]),s=this._data[3]*Math.abs(n[2])+this._data[4]*Math.abs(n[5])+this._data[5]*Math.abs(n[8]);t[0]=this._data[0]-a,t[1]=this._data[1]-i,t[2]=this._data[2]-s,t[3]=this._data[0]+a,t[4]=this._data[1]+i,t[5]=this._data[2]+s}transform(t,e,n,r=0,a=(0,d.rS)(n),i=(0,d.rS)(e),o=(0,E.R8)(e,i)){if(n===a)e.isGeographic?function(t,e,n,r,a=(0,d.rS)(n)){const i=(0,l.Iu)(n),o=1+Math.max(0,r)/(i.radius+t.centerZ);t.getCenter(Ft),Ft[2]+=r,(0,M.projectBuffer)(Ft,n,0,Ft,a,0,1),e.center=Ft;const u=t.getQuaternion(Tt);e.quaternion=u,(0,s.Kx)(Nt,u),(0,c.s)(qt,0,0,1),(0,c.u)(qt,qt,Nt);const h=t.getHalfSize(Vt);(0,c.s)(qt,h[0]*Math.abs(qt[0]),h[1]*Math.abs(qt[1]),h[2]*Math.abs(qt[2])),(0,c.h)(qt,qt,i.inverseFlattening),(0,c.g)(qt,h,qt),e.halfSize=(0,c.h)(qt,qt,o)}(this,t,e,r,i):function(t,e,n,r,a=(0,d.rS)(n),i=(0,E.R8)(n,a)){t.getCorners(Dt),t.getCenter(Ft),Ft[2]+=r,(0,_.B)(n,Ft,zt,a),e.setCenter(zt[12],zt[13],zt[14]);const o=2*Math.sqrt(1+zt[0]+zt[5]+zt[10]);Nt[0]=(zt[6]-zt[9])/o,Nt[1]=(zt[8]-zt[2])/o,Nt[2]=(zt[1]-zt[4])/o,Nt[3]=.25*o;const u=t.getQuaternion(Tt);e.quaternion=(0,s.Jp)(Nt,Nt,u),(0,s.Kx)(Nt,Nt),(0,c.s)(Bt,0,0,0);const h=e.getCenter(yt);for(const t of Dt)t[2]+=r,i(t,0,t,0),(0,c.z)(qt,t,h),(0,c.u)(qt,qt,Nt),(0,c.v)(qt,qt),(0,c.C)(Bt,Bt,qt);e.halfSize=Bt}(this,t,e,r,i,o);else if(e.isWGS84&&(n.isWebMercator||(0,m.QM)(n)))!function(t,e,n,r,a){e.getCenter(wt),wt[2]+=a;const i=(0,d.rS)(n);(0,M.projectBuffer)(wt,t,0,wt,i,0,1),pt(i,e,wt,n,r)}(e,this,n,t,r);else if(e.isWebMercator&&(0,m.QM)(n))!function(t,e,n,r,a){e.getCenter(wt),wt[2]+=a,pt(t,e,wt,n,r)}(e,this,n,t,r);else{const a=this.getCenter(wt);a[2]+=r,(0,M.projectBuffer)(a,e,0,a,n,0,1),t.center=a,this!==t&&(t.quaternion=this.getQuaternion(Tt),t.halfSize=this.getHalfSize(Vt))}}}const Nt=(0,o.Ue)(),Tt=(0,o.Ue)(),Pt=(0,o.Ue)(),St=(0,u.Ue)(),gt=(0,u.Ue)(),Ot=(0,f.Ue)();function bt(t,e=new Ut){return function(t,e){const{data:n,size:r}=t,a=n.length/r;if(a<=0)return;const i=new ct(t);ft(S,i.minProj,i.maxProj),dt(S,S,.5),lt(g,i.maxProj,i.minProj);const s=ht(g),o=new ut;o.quality=s,a<14&&(t=new T.U(new Float64Array(i.buffer,112,42),3));const c=(0,u.Ue)(),h=(0,u.Ue)(),f=(0,u.Ue)(),l=(0,u.Ue)(),d=(0,u.Ue)(),_=(0,u.Ue)(),M=(0,u.Ue)();switch(O(i,t,M,c,h,f,l,d,_,o)){case 1:return void Y(S,g,e);case 2:return void tt(t,l,e)}w(t,M,c,h,f,l,d,_,o),et(t,o.b0,o.b1,o.b2,J,K);const E=(0,u.Ue)();lt(E,K,J),o.quality=ht(E),o.quality<s?ot(o.b0,o.b1,o.b2,J,K,E,e):Y(S,g,e)}(t,e),e}const Rt=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.2],jt=(()=>{const t=new Int8Array(162);let e=0;const n=n=>{for(let r=0;r<n.length;r++)t[e+r]=n[r];e+=6};return n([6,2,3,1,5,4]),n([0,2,3,1,5,4]),n([0,2,3,7,5,4]),n([0,1,3,2,6,4]),n([0,1,3,2,0,0]),n([0,1,5,7,3,2]),n([0,1,3,7,6,4]),n([0,1,3,7,6,2]),n([0,1,5,7,6,2]),n([0,1,5,4,6,2]),n([0,1,5,4,0,0]),n([0,1,3,7,5,4]),n([0,2,6,4,0,0]),n([0,0,0,0,0,0]),n([1,3,7,5,0,0]),n([2,3,7,6,4,0]),n([2,3,7,6,0,0]),n([2,3,1,5,7,6]),n([0,1,5,7,6,2]),n([0,1,5,7,6,4]),n([0,1,3,7,6,4]),n([4,5,7,6,2,0]),n([4,5,7,6,0,0]),n([4,5,1,3,7,6]),n([0,2,3,7,5,4]),n([6,2,3,7,5,4]),n([6,2,3,1,5,4]),t})();function Ct(t,e,n,r,a){const i=t.getQuaternion(Tt);a.quaternion=i,(0,s.Kx)(Nt,i);const o=t.getCenter(wt),h=t.getHalfSize(Vt);if(r===U.JY.Global){(0,c.u)(qt,o,Nt),(0,c.v)(Bt,qt),(0,c.y)(Gt,Bt,h),(0,c.z)(Gt,Bt,Gt);const r=(0,c.l)(Gt);(0,c.g)(Gt,Bt,h);const i=(0,c.l)(Gt);if(r<n)a.center=o,(0,c.s)(qt,n,n,n),a.halfSize=(0,c.g)(qt,h,qt);else{const s=i>0?1+e/i:1,o=r>0?1+n/r:1,u=(o+s)/2,f=(o-s)/2;(0,c.h)(Gt,Bt,f),a.halfSize=(0,c.r)(Gt,Gt,h,u),(0,c.h)(Gt,Bt,u),(0,c.r)(Gt,Gt,h,f),(0,c.A)(qt,qt),(0,c.B)(qt,Gt,qt);const l=t.getQuaternion(Pt);a.center=(0,c.u)(qt,qt,l)}}else{a.center=(0,c.r)(qt,o,u.eG,(n+e)/2);const t=(0,c.u)(qt,u.eG,Nt);(0,c.v)(t,t),a.halfSize=(0,c.r)(Bt,h,t,(n-e)/2)}return a}function pt(t,e,n,a,i){const s=e.getQuaternion(Tt),o=(0,r.en)(vt,s),c=e.getHalfSize(Vt);for(let t=0;t<8;++t){for(let e=0;e<3;++e)Ft[e]=c[e]*(0!=(t&1<<e)?-1:1);for(let e=0;e<3;++e){let r=n[e];for(let t=0;t<3;++t)r+=Ft[t]*o[3*t+e];Lt[3*t+e]=r}}(0,M.projectBuffer)(Lt,t,0,Lt,a,0,8),bt(xt,i)}const Lt=new Array(24),xt=new T.U(Lt,3),Ft=(0,u.Ue)(),wt=(0,u.Ue)(),yt=(0,u.Ue)(),Vt=(0,u.Ue)(),vt=(0,a.Ue)(),zt=(0,i.Ue)(),Dt=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],qt=(0,u.Ue)(),Bt=(0,u.Ue)(),Gt=(0,u.Ue)(),kt=(0,u.al)(-1,-1,-1)},85799:function(t,e,n){n.d(e,{U:function(){return r},a:function(){return a}});class r{constructor(t,e,n=e){this.data=t,this.size=e,this.stride=n}}class a extends r{constructor(t,e,n,r=!1,a=n){super(t,n,a),this.indices=e,this.exclusive=r}}},21414:function(t,e,n){var r;n.d(e,{T:function(){return r}}),function(t){t.POSITION="position",t.NORMAL="normal",t.NORMALCOMPRESSED="normalCompressed",t.UV0="uv0",t.COLOR="color",t.SYMBOLCOLOR="symbolColor",t.SIZE="size",t.TANGENT="tangent",t.OFFSET="offset",t.PERSPECTIVEDIVIDE="perspectiveDivide",t.CENTEROFFSETANDDISTANCE="centerOffsetAndDistance",t.LENGTH="length",t.PREVPOSITION="prevPosition",t.NEXTPOSITION="nextPosition",t.SUBDIVISIONFACTOR="subdivisionFactor",t.COLORFEATUREATTRIBUTE="colorFeatureAttribute",t.SIZEFEATUREATTRIBUTE="sizeFeatureAttribute",t.OPACITYFEATUREATTRIBUTE="opacityFeatureAttribute",t.DISTANCETOSTART="distanceToStart",t.UVMAPSPACE="uvMapSpace",t.BOUNDINGRECT="boundingRect",t.UVREGION="uvRegion",t.PROFILERIGHT="profileRight",t.PROFILEUP="profileUp",t.PROFILEVERTEXANDNORMAL="profileVertexAndNormal",t.FEATUREVALUE="featureValue",t.INSTANCEMODELORIGINHI="instanceModelOriginHi",t.INSTANCEMODELORIGINLO="instanceModelOriginLo",t.INSTANCEMODEL="instanceModel",t.INSTANCEMODELNORMAL="instanceModelNormal",t.INSTANCECOLOR="instanceColor",t.INSTANCEFEATUREATTRIBUTE="instanceFeatureAttribute",t.LOCALTRANSFORM="localTransform",t.GLOBALTRANSFORM="globalTransform",t.BOUNDINGSPHERE="boundingSphere",t.MODELORIGIN="modelOrigin",t.MODELSCALEFACTORS="modelScaleFactors",t.FEATUREATTRIBUTE="featureAttribute",t.STATE="state",t.LODLEVEL="lodLevel",t.POSITION0="position0",t.POSITION1="position1",t.NORMAL2COMPRESSED="normal2Compressed",t.COMPONENTINDEX="componentIndex",t.VARIANTOFFSET="variantOffset",t.VARIANTSTROKE="variantStroke",t.VARIANTEXTENSION="variantExtension",t.SIDENESS="sideness",t.START="start",t.END="end",t.UP="up",t.EXTRUDE="extrude",t.OBJECTANDLAYERIDCOLOR="objectAndLayerIdColor",t.INSTANCEOBJECTANDLAYERIDCOLOR="instanceObjectAndLayerIdColor"}(r||(r={}))}}]);