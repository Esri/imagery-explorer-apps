"use strict";(self.webpackChunkimagery_explorer_apps=self.webpackChunkimagery_explorer_apps||[]).push([[2902,1780],{6766:function(e,t,r){r.d(t,{a:function(){return i},b:function(){return u},c:function(){return f},d:function(){return s},e:function(){return l},f:function(){return o},n:function(){return y},s:function(){return c},t:function(){return a}});r(39994);var n=r(45150);function s(e,t,r){i(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function i(e,t,r,n=3,s=n){if(e.length/n!==Math.ceil(t.length/s))return e;const i=e.length/n,f=r[0],u=r[1],o=r[2],c=r[4],a=r[5],l=r[6],y=r[8],p=r[9],h=r[10],d=r[12],b=r[13],m=r[14];let g=0,B=0;for(let r=0;r<i;r++){const r=t[g],i=t[g+1],T=t[g+2];e[B]=f*r+c*i+y*T+d,e[B+1]=u*r+a*i+p*T+b,e[B+2]=o*r+l*i+h*T+m,g+=s,B+=n}return e}function f(e,t,r){u(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function u(e,t,r,s=3,i=s){if(e.length/s!==Math.ceil(t.length/i))return void(0,n.M)().error("source and destination buffers need to have the same number of elements");const f=e.length/s,u=r[0],o=r[1],c=r[2],a=r[3],l=r[4],y=r[5],p=r[6],h=r[7],d=r[8];let b=0,m=0;for(let r=0;r<f;r++){const r=t[b],n=t[b+1],f=t[b+2];e[m]=u*r+a*n+p*f,e[m+1]=o*r+l*n+h*f,e[m+2]=c*r+y*n+d*f,b+=i,m+=s}}function o(e,t,r){c(e.typedBuffer,t,r,e.typedBufferStride)}function c(e,t,r,n=3){const s=Math.min(e.length/n,t.count),i=t.typedBuffer,f=t.typedBufferStride;let u=0,o=0;for(let t=0;t<s;t++)e[o]=r*i[u],e[o+1]=r*i[u+1],e[o+2]=r*i[u+2],u+=f,o+=n}function a(e,t,r,n=3,s=n){const i=e.length/n;if(i!==Math.ceil(t.length/s))return e;let f=0,u=0;for(let o=0;o<i;o++)e[u]=t[f]+r[0],e[u+1]=t[f+1]+r[1],e[u+2]=t[f+2]+r[2],f+=s,u+=n;return e}function l(e,t){y(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function y(e,t,r=3,n=r){const s=Math.min(e.length/r,t.length/n);let i=0,f=0;for(let u=0;u<s;u++){const s=t[i],u=t[i+1],o=t[i+2],c=s*s+u*u+o*o;if(c>0){const t=1/Math.sqrt(c);e[f]=t*s,e[f+1]=t*u,e[f+2]=t*o}i+=n,f+=r}}Object.freeze(Object.defineProperty({__proto__:null,normalize:y,normalizeView:l,scale:c,scaleView:o,shiftRight:function(e,t,r){const n=Math.min(e.count,t.count),s=e.typedBuffer,i=e.typedBufferStride,f=t.typedBuffer,u=t.typedBufferStride;let o=0,c=0;for(let e=0;e<n;e++)s[c]=f[o]>>r,s[c+1]=f[o+1]>>r,s[c+2]=f[o+2]>>r,o+=u,c+=i},transformMat3:u,transformMat3View:f,transformMat4:i,transformMat4View:s,translate:a},Symbol.toStringTag,{value:"Module"}))},3308:function(e,t,r){function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function s(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}r.d(t,{Ue:function(){return n},Wd:function(){return i},d9:function(){return s}});const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:s,create:n,createView:function(e,t){return new Float64Array(e,t,16)},fromValues:function(e,t,r,n,s,i,f,u,o,c,a,l,y,p,h,d){return[e,t,r,n,s,i,f,u,o,c,a,l,y,p,h,d]}},Symbol.toStringTag,{value:"Module"}))},96303:function(e,t,r){function n(){return[0,0,0,1]}function s(e){return[e[0],e[1],e[2],e[3]]}r.d(t,{Ue:function(){return n},Wd:function(){return i},d9:function(){return s}});const i=[0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:s,create:n,createView:function(e,t){return new Float64Array(e,t,4)},fromValues:function(e,t,r,n){return[e,t,r,n]}},Symbol.toStringTag,{value:"Module"}))},1845:function(e,t,r){r.d(t,{Bh:function(){return a},I6:function(){return x},Jp:function(){return l},Kx:function(){return p},Su:function(){return d},t8:function(){return m},yY:function(){return c}});var n=r(3965),s=r(96303),i=r(81095),f=r(40201),u=r(86717),o=r(56999);function c(e,t,r){r*=.5;const n=Math.sin(r);return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=Math.cos(r),e}function a(e,t){const r=2*Math.acos(t[3]),n=Math.sin(r/2);return n>(0,f.bn)()?(e[0]=t[0]/n,e[1]=t[1]/n,e[2]=t[2]/n):(e[0]=1,e[1]=0,e[2]=0),r}function l(e,t,r){const n=t[0],s=t[1],i=t[2],f=t[3],u=r[0],o=r[1],c=r[2],a=r[3];return e[0]=n*a+f*u+s*c-i*o,e[1]=s*a+f*o+i*u-n*c,e[2]=i*a+f*c+n*o-s*u,e[3]=f*a-n*u-s*o-i*c,e}function y(e,t,r,n){const s=t[0],i=t[1],u=t[2],o=t[3];let c,a,l,y,p,h=r[0],d=r[1],b=r[2],m=r[3];return a=s*h+i*d+u*b+o*m,a<0&&(a=-a,h=-h,d=-d,b=-b,m=-m),1-a>(0,f.bn)()?(c=Math.acos(a),l=Math.sin(c),y=Math.sin((1-n)*c)/l,p=Math.sin(n*c)/l):(y=1-n,p=n),e[0]=y*s+p*h,e[1]=y*i+p*d,e[2]=y*u+p*b,e[3]=y*o+p*m,e}function p(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],e}function h(e,t){const r=t[0]+t[4]+t[8];let n;if(r>0)n=Math.sqrt(r+1),e[3]=.5*n,n=.5/n,e[0]=(t[5]-t[7])*n,e[1]=(t[6]-t[2])*n,e[2]=(t[1]-t[3])*n;else{let r=0;t[4]>t[0]&&(r=1),t[8]>t[3*r+r]&&(r=2);const s=(r+1)%3,i=(r+2)%3;n=Math.sqrt(t[3*r+r]-t[3*s+s]-t[3*i+i]+1),e[r]=.5*n,n=.5/n,e[3]=(t[3*s+i]-t[3*i+s])*n,e[s]=(t[3*s+r]+t[3*r+s])*n,e[i]=(t[3*i+r]+t[3*r+i])*n}return e}function d(e,t,r,n){const s=.5*Math.PI/180;t*=s,r*=s,n*=s;const i=Math.sin(t),f=Math.cos(t),u=Math.sin(r),o=Math.cos(r),c=Math.sin(n),a=Math.cos(n);return e[0]=i*o*a-f*u*c,e[1]=f*u*a+i*o*c,e[2]=f*o*c-i*u*a,e[3]=f*o*a+i*u*c,e}const b=o.c,m=o.s,g=o.f,B=l,T=o.b,E=o.g,A=o.l,w=o.i,S=w,M=o.j,_=M,O=o.n,x=o.a,L=o.e;const P=(0,i.Ue)(),v=(0,i.al)(1,0,0),C=(0,i.al)(0,1,0);const R=(0,s.Ue)(),F=(0,s.Ue)();const N=(0,n.Ue)();Object.freeze(Object.defineProperty({__proto__:null,add:g,calculateW:function(e,t){const r=t[0],n=t[1],s=t[2];return e[0]=r,e[1]=n,e[2]=s,e[3]=Math.sqrt(Math.abs(1-r*r-n*n-s*s)),e},conjugate:p,copy:b,dot:E,equals:L,exactEquals:x,fromEuler:d,fromMat3:h,getAxisAngle:a,identity:function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},invert:function(e,t){const r=t[0],n=t[1],s=t[2],i=t[3],f=r*r+n*n+s*s+i*i,u=f?1/f:0;return e[0]=-r*u,e[1]=-n*u,e[2]=-s*u,e[3]=i*u,e},len:S,length:w,lerp:A,mul:B,multiply:l,normalize:O,random:function(e){const t=f.FD,r=t(),n=t(),s=t(),i=Math.sqrt(1-r),u=Math.sqrt(r);return e[0]=i*Math.sin(2*Math.PI*n),e[1]=i*Math.cos(2*Math.PI*n),e[2]=u*Math.sin(2*Math.PI*s),e[3]=u*Math.cos(2*Math.PI*s),e},rotateX:function(e,t,r){r*=.5;const n=t[0],s=t[1],i=t[2],f=t[3],u=Math.sin(r),o=Math.cos(r);return e[0]=n*o+f*u,e[1]=s*o+i*u,e[2]=i*o-s*u,e[3]=f*o-n*u,e},rotateY:function(e,t,r){r*=.5;const n=t[0],s=t[1],i=t[2],f=t[3],u=Math.sin(r),o=Math.cos(r);return e[0]=n*o-i*u,e[1]=s*o+f*u,e[2]=i*o+n*u,e[3]=f*o-s*u,e},rotateZ:function(e,t,r){r*=.5;const n=t[0],s=t[1],i=t[2],f=t[3],u=Math.sin(r),o=Math.cos(r);return e[0]=n*o+s*u,e[1]=s*o-n*u,e[2]=i*o+f*u,e[3]=f*o-i*u,e},rotationTo:function(e,t,r){const n=(0,u.k)(t,r);return n<-.999999?((0,u.b)(P,v,t),(0,u.H)(P)<1e-6&&(0,u.b)(P,C,t),(0,u.n)(P,P),c(e,P,Math.PI),e):n>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):((0,u.b)(P,t,r),e[0]=P[0],e[1]=P[1],e[2]=P[2],e[3]=1+n,O(e,e))},scale:T,set:m,setAxes:function(e,t,r,n){const s=N;return s[0]=r[0],s[3]=r[1],s[6]=r[2],s[1]=n[0],s[4]=n[1],s[7]=n[2],s[2]=-t[0],s[5]=-t[1],s[8]=-t[2],O(e,h(e,s))},setAxisAngle:c,slerp:y,sqlerp:function(e,t,r,n,s,i){return y(R,t,s,i),y(F,r,n,i),y(e,R,F,2*i*(1-i)),e},sqrLen:_,squaredLength:M,str:function(e){return"quat("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}},Symbol.toStringTag,{value:"Module"}))},43176:function(e,t,r){r.d(t,{B:function(){return c}});var n=r(19431),s=r(32114),i=r(81095);function f(e,t,r){const n=Math.sin(e),s=Math.cos(e),i=Math.sin(t),f=Math.cos(t),u=r;return u[0]=-n,u[4]=-i*s,u[8]=f*s,u[12]=0,u[1]=s,u[5]=-i*n,u[9]=f*n,u[13]=0,u[2]=0,u[6]=f,u[10]=i,u[14]=0,u[3]=0,u[7]=0,u[11]=0,u[15]=1,u}var u=r(19508),o=r(35925);function c(e,t,r,n){if(null==e||null==n)return!1;const i=(0,u.eT)(e,u.Jz),c=(0,u.eT)(n,u.sp);if(i===c&&!a(c)&&(i!==u.Ej.UNKNOWN||(0,o.fS)(e,n)))return(0,s.vc)(r,t),!0;if(a(c)){const e=u.rf[i][u.Ej.LON_LAT],n=u.rf[u.Ej.LON_LAT][c];return null!=e&&null!=n&&(e(t,0,y,0),n(y,0,p,0),f(l*y[0],l*y[1],r),r[12]=p[0],r[13]=p[1],r[14]=p[2],!0)}if((c===u.Ej.WEB_MERCATOR||c===u.Ej.PLATE_CARREE||c===u.Ej.WGS84)&&(i===u.Ej.WGS84||i===u.Ej.CGCS2000&&c===u.Ej.PLATE_CARREE||i===u.Ej.SPHERICAL_ECEF||i===u.Ej.WEB_MERCATOR)){const e=u.rf[i][u.Ej.LON_LAT],n=u.rf[u.Ej.LON_LAT][c];return null!=e&&null!=n&&(e(t,0,y,0),n(y,0,p,0),i===u.Ej.SPHERICAL_ECEF?function(e,t,r){f(e,t,r),(0,s.p4)(r,r)}(l*y[0],l*y[1],r):(0,s.yR)(r),r[12]=p[0],r[13]=p[1],r[14]=p[2],!0)}return!1}function a(e){return e===u.Ej.SPHERICAL_ECEF||e===u.Ej.SPHERICAL_MARS_PCPF||e===u.Ej.SPHERICAL_MOON_PCPF}const l=(0,n.Vl)(1),y=(0,i.Ue)(),p=(0,i.Ue)()},61170:function(e,t,r){r.d(t,{rS:function(){return c}});var n=r(69442),s=r(14685),i=r(35925);const f=new s.Z(n.kU),u=new s.Z(n.JL),o=new s.Z(n.mM);new s.Z(n.pn);function c(e){const t=a.get(e);if(t)return t;let r=f;if(e)if(e===u)r=u;else if(e===o)r=o;else{const t=e.wkid,n=e.latestWkid;if(null!=t||null!=n)(0,i.o$)(t)||(0,i.o$)(n)?r=u:((0,i.ME)(t)||(0,i.ME)(n))&&(r=o);else{const t=e.wkt2??e.wkt;if(t){const e=t.toUpperCase();e===l?r=u:e===y&&(r=o)}}}return a.set(e,r),r}const a=new Map,l=u.wkt.toUpperCase(),y=o.wkt.toUpperCase()},92570:function(e,t,r){r.d(t,{JK:function(){return u},QZ:function(){return i},Rq:function(){return f},bg:function(){return s},mB:function(){return o}});var n=r(86098);function s(e,t=!1){return e<=n.c8?t?new Array(e).fill(0):new Array(e):new Float64Array(e)}function i(e){return((0,n.kJ)(e)?e.length:e.byteLength/8)<=n.c8?Array.from(e):new Float64Array(e)}function f(e,t,r){return Array.isArray(e)?e.slice(t,t+r):e.subarray(t,t+r)}function u(e,t){for(let r=0;r<t.length;++r)e[r]=t[r];return e}function o(e){return Array.isArray(e)?new Float64Array(e):e}},58626:function(e,t,r){r.d(t,{Z:function(){return a}});var n=r(36663),s=r(41151),i=r(82064),f=r(81977),u=(r(39994),r(13802),r(4157),r(79438)),o=r(40266);let c=class extends((0,s.J)(i.wq)){constructor(e){super(e),this.type="georeferenced",this.origin=null}};(0,n._)([(0,u.J)({georeferenced:"georeferenced"},{readOnly:!0})],c.prototype,"type",void 0),(0,n._)([(0,f.Cb)({type:[Number],nonNullable:!1,json:{write:!0}})],c.prototype,"origin",void 0),c=(0,n._)([(0,o.j)("esri.geometry.support.MeshGeoreferencedVertexSpace")],c);const a=c},51619:function(e,t,r){r.d(t,{Z:function(){return l}});var n=r(36663),s=r(41151),i=r(82064),f=r(81977),u=(r(39994),r(13802),r(4157),r(79438)),o=r(40266),c=r(81095);let a=class extends((0,s.J)(i.wq)){constructor(e){super(e),this.type="local",this.origin=(0,c.Ue)()}};(0,n._)([(0,u.J)({local:"local"},{readOnly:!0})],a.prototype,"type",void 0),(0,n._)([(0,f.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],a.prototype,"origin",void 0),a=(0,n._)([(0,o.j)("esri.geometry.support.MeshLocalVertexSpace")],a);const l=a},68403:function(e,t,r){r.d(t,{Z:function(){return m}});var n,s=r(36663),i=r(82064),f=r(81977),u=(r(39994),r(13802),r(4157),r(40266)),o=r(32114),c=r(3308),a=r(1845),l=r(96303),y=r(86717),p=r(81095),h=r(34218);let d=n=class extends i.wq{constructor(e){super(e),this.translation=(0,p.Ue)(),this.rotationAxis=(0,p.nI)(h.up),this.rotationAngle=0,this.scale=(0,p.al)(1,1,1)}get rotation(){return(0,h.uT)(this.rotationAxis,this.rotationAngle)}set rotation(e){this.rotationAxis=(0,p.d9)((0,h.ZZ)(e)),this.rotationAngle=(0,h.EU)(e)}get localMatrix(){const e=(0,c.Ue)();return(0,a.yY)(b,(0,h.ZZ)(this.rotation),(0,h.WH)(this.rotation)),(0,o.Iw)(e,b,this.translation,this.scale),e}get localMatrixInverse(){return(0,o.U_)((0,c.Ue)(),this.localMatrix)}applyLocal(e,t){return(0,y.e)(t,e,this.localMatrix)}applyLocalInverse(e,t){return(0,y.e)(t,e,this.localMatrixInverse)}equals(e){return this===e||null!=e&&(0,o.I6)(this.localMatrix,e.localMatrix)}clone(){const e={translation:(0,p.d9)(this.translation),rotationAxis:(0,p.d9)(this.rotationAxis),rotationAngle:this.rotationAngle,scale:(0,p.d9)(this.scale)};return new n(e)}};(0,s._)([(0,f.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"translation",void 0),(0,s._)([(0,f.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAxis",void 0),(0,s._)([(0,f.Cb)({type:Number,nonNullable:!0,json:{write:!0}})],d.prototype,"rotationAngle",void 0),(0,s._)([(0,f.Cb)({type:[Number],nonNullable:!0,json:{write:!0}})],d.prototype,"scale",void 0),(0,s._)([(0,f.Cb)()],d.prototype,"rotation",null),(0,s._)([(0,f.Cb)()],d.prototype,"localMatrix",null),(0,s._)([(0,f.Cb)()],d.prototype,"localMatrixInverse",null),d=n=(0,s._)([(0,u.j)("esri.geometry.support.MeshTransform")],d);const b=(0,l.Ue)(),m=d},34218:function(e,t,r){r.d(t,{EU:function(){return d},Ue:function(){return c},WH:function(){return b},ZZ:function(){return h},q_:function(){return l},qw:function(){return p},uT:function(){return a},up:function(){return g}});var n=r(19431),s=r(32114),i=r(1845),f=r(96303),u=r(86717),o=r(81095);r(52721);function c(e=g){return[e[0],e[1],e[2],e[3]]}function a(e,t,r=c()){return(0,u.c)(r,e),r[3]=t,r}function l(e,t=c()){const r=(0,s.j6)(B,e);return m(t,(0,n.BV)((0,i.Bh)(t,r))),t}function y(e,t,r=c()){return(0,i.yY)(B,e,b(e)),(0,i.yY)(T,t,b(t)),(0,i.Jp)(B,T,B),m(r,(0,n.BV)((0,i.Bh)(r,B)))}function p(e,t,r,n=c()){return a(o.E9,e,E),a(o.IO,t,A),a(o.eG,r,w),y(E,A,E),y(E,w,n),n}function h(e){return e}function d(e){return e[3]}function b(e){return(0,n.Vl)(e[3])}function m(e,t){return e[3]=t,e}const g=[0,0,1,0],B=(0,f.Ue)(),T=(0,f.Ue)(),E=(c(),c()),A=c(),w=c()},81936:function(e,t,r){r.d(t,{ly:function(){return y},oS:function(){return T},o7:function(){return Y},Jj:function(){return W},Hz:function(){return j},gK:function(){return b},ey:function(){return m},bj:function(){return g},O1:function(){return B},av:function(){return x},Nu:function(){return C},D_:function(){return S},Eu:function(){return p},q6:function(){return E},or:function(){return V},wA:function(){return k},Vs:function(){return U},TS:function(){return L},qt:function(){return R},xA:function(){return M},ct:function(){return h},fP:function(){return A},n1:function(){return q},PP:function(){return G},P_:function(){return I},mw:function(){return P},G5:function(){return F},ne:function(){return _},ek:function(){return d},Cd:function(){return w},zO:function(){return z},TN:function(){return J},ir:function(){return Z},v6:function(){return v},hu:function(){return N},mc:function(){return O}});class n{constructor(e,t,r=0,n,s){this.TypedArrayConstructor=e,this.elementCount=9;const i=this.TypedArrayConstructor;void 0===n&&(n=9*i.BYTES_PER_ELEMENT);const f=0===t.byteLength?0:r;this.typedBuffer=null==s?new i(t,f):new i(t,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<9;e++)t[e]=this.typedBuffer[r++];return t}setMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<9;e++)this.typedBuffer[r++]=t[e]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){const n=this.typedBuffer,s=t.typedBuffer;let i=e*this.typedBufferStride,f=r*t.typedBufferStride;for(let e=0;e<9;++e)n[i++]=s[f++]}get buffer(){return this.typedBuffer.buffer}}n.ElementCount=9;class s{constructor(e,t,r=0,n,s){this.TypedArrayConstructor=e,this.elementCount=16;const i=this.TypedArrayConstructor;void 0===n&&(n=16*i.BYTES_PER_ELEMENT);const f=0===t.byteLength?0:r;this.typedBuffer=null==s?new i(t,f):new i(t,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<16;e++)t[e]=this.typedBuffer[r++];return t}setMat(e,t){let r=e*this.typedBufferStride;for(let e=0;e<16;e++)this.typedBuffer[r++]=t[e]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}copyFrom(e,t,r){const n=this.typedBuffer,s=t.typedBuffer;let i=e*this.typedBufferStride,f=r*t.typedBufferStride;for(let e=0;e<16;++e)n[i++]=s[f++]}get buffer(){return this.typedBuffer.buffer}}s.ElementCount=16;class i{constructor(e,t,r=0,n,s){this.TypedArrayConstructor=e,this.elementCount=1;const i=this.TypedArrayConstructor;void 0===n&&(n=i.BYTES_PER_ELEMENT);const f=0===t.byteLength?0:r;this.typedBuffer=null==s?new i(t,f):new i(t,f,(s-r)/i.BYTES_PER_ELEMENT),this.stride=n,this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}get(e){return this.typedBuffer[e*this.typedBufferStride]}set(e,t){this.typedBuffer[e*this.typedBufferStride]=t}get buffer(){return this.typedBuffer.buffer}}i.ElementCount=1;var f=r(36531);class u{constructor(e,t,r=0,n,s){this.TypedArrayConstructor=e,this.elementCount=2;const i=this.TypedArrayConstructor;void 0===n&&(n=2*i.BYTES_PER_ELEMENT);const f=0===t.byteLength?0:r;this.typedBuffer=null==s?new i(t,f):new i(t,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,f.t8)(t,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e]=t[1]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e]=r}copyFrom(e,t,r){const n=this.typedBuffer,s=t.typedBuffer;let i=e*this.typedBufferStride,f=r*t.typedBufferStride;n[i++]=s[f++],n[i]=s[f]}get buffer(){return this.typedBuffer.buffer}}u.ElementCount=2;var o=r(86717);class c{constructor(e,t,r=0,n,s){this.TypedArrayConstructor=e,this.elementCount=3;const i=this.TypedArrayConstructor;void 0===n&&(n=3*i.BYTES_PER_ELEMENT);const f=0===t.byteLength?0:r;this.typedBuffer=null==s?new i(t,f):new i(t,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,o.s)(t,this.typedBuffer[e],this.typedBuffer[e+1],this.typedBuffer[e+2])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e]=t[2]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,n){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=r,this.typedBuffer[e]=n}copyFrom(e,t,r){const n=this.typedBuffer,s=t.typedBuffer;let i=e*this.typedBufferStride,f=r*t.typedBufferStride;n[i++]=s[f++],n[i++]=s[f++],n[i]=s[f]}get buffer(){return this.typedBuffer.buffer}}c.ElementCount=3;var a=r(56999);class l{constructor(e,t,r=0,n,s){this.TypedArrayConstructor=e,this.start=r,this.elementCount=4;const i=this.TypedArrayConstructor;void 0===n&&(n=4*i.BYTES_PER_ELEMENT);const f=0===t.byteLength?0:r;this.typedBuffer=null==s?new i(t,f):new i(t,f,(s-r)/i.BYTES_PER_ELEMENT),this.typedBufferStride=n/i.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(e,t,r=this.count-t){const n=this.typedBuffer.byteOffset+t*this.stride;return new e(this.buffer,n,this.stride,n+r*this.stride)}getVec(e,t){return e*=this.typedBufferStride,(0,a.s)(t,this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e++],this.typedBuffer[e])}setVec(e,t){e*=this.typedBufferStride,this.typedBuffer[e++]=t[0],this.typedBuffer[e++]=t[1],this.typedBuffer[e++]=t[2],this.typedBuffer[e]=t[3]}get(e,t){return this.typedBuffer[e*this.typedBufferStride+t]}set(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r}setValues(e,t,r,n,s){e*=this.typedBufferStride,this.typedBuffer[e++]=t,this.typedBuffer[e++]=r,this.typedBuffer[e++]=n,this.typedBuffer[e]=s}copyFrom(e,t,r){const n=this.typedBuffer,s=t.typedBuffer;let i=e*this.typedBufferStride,f=r*t.typedBufferStride;n[i++]=s[f++],n[i++]=s[f++],n[i++]=s[f++],n[i]=s[f]}get buffer(){return this.typedBuffer.buffer}}l.ElementCount=4;class y extends i{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}static fromTypedArray(e,t){return new y(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}y.ElementType="f32";class p extends u{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(p,e,t)}static fromTypedArray(e,t){return new p(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}p.ElementType="f32";class h extends c{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(h,e,t)}static fromTypedArray(e,t){return new h(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}h.ElementType="f32";class d extends l{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(d,e,t)}static fromTypedArray(e,t){return new d(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}d.ElementType="f32";class b extends n{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(b,e,t)}static fromTypedArray(e,t){return new b(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}b.ElementType="f32";class m extends n{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(m,e,t)}static fromTypedArray(e,t){return new m(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}m.ElementType="f64";class g extends s{constructor(e,t=0,r,n){super(Float32Array,e,t,r,n),this.elementType="f32"}slice(e,t){return this.sliceBuffer(g,e,t)}static fromTypedArray(e,t){return new g(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}g.ElementType="f32";class B extends s{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(B,e,t)}static fromTypedArray(e,t){return new B(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}B.ElementType="f64";class T extends i{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(T,e,t)}static fromTypedArray(e,t){return new T(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}T.ElementType="f64";class E extends u{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(E,e,t)}static fromTypedArray(e,t){return new E(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}E.ElementType="f64";class A extends c{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(A,e,t)}static fromTypedArray(e,t){return new A(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}A.ElementType="f64";class w extends l{constructor(e,t=0,r,n){super(Float64Array,e,t,r,n),this.elementType="f64"}slice(e,t){return this.sliceBuffer(w,e,t)}static fromTypedArray(e,t){return new w(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}w.ElementType="f64";class S extends i{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(S,e,t)}static fromTypedArray(e,t){return new S(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}S.ElementType="u8";class M extends u{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(M,e,t)}static fromTypedArray(e,t){return new M(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}M.ElementType="u8";class _ extends c{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(_,e,t)}static fromTypedArray(e,t){return new _(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}_.ElementType="u8";class O extends l{constructor(e,t=0,r,n){super(Uint8Array,e,t,r,n),this.elementType="u8"}slice(e,t){return this.sliceBuffer(O,e,t)}static fromTypedArray(e,t){return new O(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}O.ElementType="u8";class x extends i{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(x,e,t)}static fromTypedArray(e,t){return new x(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}x.ElementType="u16";class L extends u{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(L,e,t)}static fromTypedArray(e,t){return new L(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}L.ElementType="u16";class P extends c{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(P,e,t)}static fromTypedArray(e,t){return new P(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}P.ElementType="u16";class v extends l{constructor(e,t=0,r,n){super(Uint16Array,e,t,r,n),this.elementType="u16"}slice(e,t){return this.sliceBuffer(v,e,t)}static fromTypedArray(e,t){return new v(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}v.ElementType="u16";class C extends i{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(C,e,t)}static fromTypedArray(e,t){return new C(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}C.ElementType="u32";class R extends u{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(R,e,t)}static fromTypedArray(e,t){return new R(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}R.ElementType="u32";class F extends c{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(F,e,t)}static fromTypedArray(e,t){return new F(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}F.ElementType="u32";class N extends l{constructor(e,t=0,r,n){super(Uint32Array,e,t,r,n),this.elementType="u32"}slice(e,t){return this.sliceBuffer(N,e,t)}static fromTypedArray(e,t){return new N(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}N.ElementType="u32";class j extends i{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(j,e,t)}static fromTypedArray(e,t){return new j(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}j.ElementType="i8";class U extends u{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(U,e,t)}static fromTypedArray(e,t){return new U(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}U.ElementType="i8";class I extends c{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(I,e,t)}static fromTypedArray(e,t){return new I(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}I.ElementType="i8";class Z extends l{constructor(e,t=0,r,n){super(Int8Array,e,t,r,n),this.elementType="i8"}slice(e,t){return this.sliceBuffer(Z,e,t)}static fromTypedArray(e,t){return new Z(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Z.ElementType="i8";class Y extends i{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(Y,e,t)}static fromTypedArray(e,t){return new Y(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}Y.ElementType="i16";class V extends u{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(V,e,t)}static fromTypedArray(e,t){return new V(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}V.ElementType="i16";class q extends c{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(q,e,t)}static fromTypedArray(e,t){return new q(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}q.ElementType="i16";class z extends l{constructor(e,t=0,r,n){super(Int16Array,e,t,r,n),this.elementType="i16"}slice(e,t){return this.sliceBuffer(z,e,t)}static fromTypedArray(e,t){return new z(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}z.ElementType="i16";class W extends i{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(W,e,t)}static fromTypedArray(e,t){return new W(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}W.ElementType="i32";class k extends u{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(k,e,t)}static fromTypedArray(e,t){return new k(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}k.ElementType="i32";class G extends c{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(G,e,t)}static fromTypedArray(e,t){return new G(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}G.ElementType="i32";class J extends l{constructor(e,t=0,r,n){super(Int32Array,e,t,r,n),this.elementType="i32"}slice(e,t){return this.sliceBuffer(J,e,t)}static fromTypedArray(e,t){return new J(e.buffer,e.byteOffset,t,e.byteOffset+e.byteLength)}}J.ElementType="i32"},45150:function(e,t,r){r.d(t,{M:function(){return s}});var n=r(13802);const s=()=>n.Z.getLogger("esri.views.3d.support.buffer.math")},12902:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var n=r(39994),s=r(26488),i=r(50442),f=r(91780);class u{async createIndex(e,t){const r=new Array;if(!e.vertexAttributes?.position)return new s.Q;const n=this._createMeshData(e),i=null!=t?await t.invoke("createIndexThread",n,{transferList:r}):this.createIndexThread(n).result;return this._createPooledRBush().fromJSON(i)}createIndexThread(e){const t=new Float64Array(e.position),r=this._createPooledRBush();return e.components?this._createIndexComponentsThread(r,t,e.components.map((e=>new Uint32Array(e)))):this._createIndexAllThread(r,t)}_createIndexAllThread(e,t){const r=new Array(t.length/9);let n=0;for(let e=0;e<t.length;e+=9)r[n++]=o(t,e,e+3,e+6);return e.load(r),{result:e.toJSON()}}_createIndexComponentsThread(e,t,r){let n=0;for(const e of r)n+=e.length/3;const s=new Array(n);let i=0;for(const e of r)for(let r=0;r<e.length;r+=3)s[i++]=o(t,3*e[r],3*e[r+1],3*e[r+2]);return e.load(s),{result:e.toJSON()}}_createMeshData(e){const t=((0,i.zZ)(e.vertexSpace)?(0,f.I5)({position:e.vertexAttributes.position,normal:null,tangent:null},e.vertexSpace,e.transform,e.spatialReference).position:e.vertexAttributes.position).buffer;return!e.components||e.components.some((e=>!e.faces))?{position:t}:{position:t,components:e.components.map((e=>e.faces))}}_createPooledRBush(){return new s.Q(9,(0,n.Z)("esri-csp-restrictions")?e=>e:[".minX",".minY",".maxX",".maxY"])}}function o(e,t,r,n){return{minX:Math.min(e[t],e[r],e[n]),maxX:Math.max(e[t],e[r],e[n]),minY:Math.min(e[t+1],e[r+1],e[n+1]),maxY:Math.max(e[t+1],e[r+1],e[n+1]),p0:[e[t],e[t+1],e[t+2]],p1:[e[r],e[r+1],e[r+2]],p2:[e[n],e[n+1],e[n+2]]}}},67341:function(e,t,r){r.d(t,{Pq:function(){return u},Tj:function(){return f},qr:function(){return o}});var n=r(59801),s=r(13802),i=r(50442);function f(e,t){return e.isGeographic||e.isWebMercator&&(t??!0)}function u(e,t){switch(e.type){case"georeferenced":return t.isGeographic;case"local":return t.isGeographic||t.isWebMercator}}function o(e,t,r,f){if(void 0!==f){(0,n.x9)(s.Z.getLogger(e),"option: geographic",{replacement:"use mesh vertexSpace and spatial reference to control how operations are performed",version:"4.29",warnOnce:!0});const u="local"===t.type;if(!(0,i.zZ)(t)||f===u)return r.isGeographic||r.isWebMercator&&f;s.Z.getLogger(e).warnOnce(`Specifying the 'geographic' parameter (${f}) for a Mesh vertex space of type "${t.type}" is not supported. This parameter will be ignored.`)}return u(t,r)}},91780:function(e,t,r){r.d(t,{I5:function(){return A},Ne:function(){return E},O7:function(){return R},Sm:function(){return L},Yq:function(){return M},pY:function(){return O},project:function(){return _},w1:function(){return w}});var n=r(17321),s=r(3965),i=r(32114),f=r(3308),u=r(86717),o=r(81095),c=r(46332),a=r(28105),l=r(61170),y=r(43176),p=r(22349),h=r(92570),d=r(68403),b=r(50442),m=r(6766),g=r(67341),B=r(49921);function T(e,t,r){return(0,g.Tj)(t.spatialReference,r?.geographic)?O(e,t,!1,r):function(e,t,r){const n=new Float64Array(e.position.length),s=e.position,i=t.x,f=t.y,u=t.z??0,o=R(r?r.unit:null,t.spatialReference);for(let e=0;e<s.length;e+=3)n[e]=s[e]*o+i,n[e+1]=s[e+1]*o+f,n[e+2]=s[e+2]*o+u;return{position:n,normal:e.normal,tangent:e.tangent}}(e,t,r)}function E(e,t=f.Wd){const{position:r,normal:n,tangent:s}=e;return{position:(0,m.a)(new Float64Array(r.length),r,t),normal:null!=n?(0,B.w9)(n,new Float32Array(n.length),t):null,tangent:null!=s?(0,B.VS)(s,new Float32Array(s.length),t):null}}function A(e,t,r,n){const{position:s,normal:i,tangent:f}=e;if(!(0,b.zZ)(t))return{position:s,normal:i,tangent:f};const u=(0,b.rU)(t,n);return T(E(e,r?.localMatrix),u,{geographic:"local"===t.type})}function w(e,t,r){const n=(0,b.G7)(t,r),s=t.spatialReference,i=(0,b.zZ)(n);if(!i)return{vertexAttributes:T(e,t,r),vertexSpace:n,transform:null};const{position:f,normal:u,tangent:o}=e,c=(0,g.Pq)(n,s);switch(n.type){case"georeferenced":return c?{vertexAttributes:O(e,t,i,r),vertexSpace:n,transform:null}:{vertexAttributes:{position:f,normal:u,tangent:o},vertexSpace:n,transform:new d.Z};case"local":return{vertexAttributes:{position:f,normal:u,tangent:o},vertexSpace:n,transform:new d.Z}}}function S(e,t,r){return(0,g.Tj)(t.spatialReference,r?.geographic)?L(e,t,r):x(e,t,r)}function M(e,t,r,n,s){if(!(0,b.zZ)(t))return S(e,n,s);const{spatialReference:i}=n,f=A(e,t,r,i);return n.equals((0,b.rU)(t,i))?x(f,n,s):S(f,n,s)}function _({positions:e,transform:t,vertexSpace:r,inSpatialReference:n,outSpatialReference:s,outPositions:c,localMode:d}){const b=r.origin??o.AG,g=null!=r.origin?t?.localMatrix??f.Wd:f.Wd;if("georeferenced"===r.type){const t=c??(0,h.bg)(e.length);if((0,i.fS)(g,f.Wd)?(0,h.JK)(t,e):(0,m.a)(t,e,g),!(0,u.j)(b,o.AG)){const[e,r,n]=b;for(let s=0;s<t.length;s+=3)t[s]+=e,t[s+1]+=r,t[s+2]+=n}return(0,p.projectBuffer)(t,n,0,t,s,0,t.length/3),t}let B=n;const T=(0,l.rS)(n);B=s.isWebMercator&&d||!(0,a.canProjectWithoutEngine)(n,T)?B:T,(0,y.B)(n,b,F,B),(0,i.Jp)(F,F,g);const E=c??(0,h.bg)(e.length);return(0,m.a)(E,e,F),(0,p.projectBuffer)(E,B,0,E,s,0,E.length/3),E}function O(e,t,r,n){const s=t.spatialReference,i=P(t,n,F),f=new Float64Array(e.position.length),u=function(e,t,r,n){(0,m.a)(n,e,t);const s=new Float64Array(e.length);return(0,B.To)(n,s,r)}(e.position,i,s,f),o=(0,c.XL)(j,i),a=function(e,t,r,n,s){if(null==r)return null;const i=new Float32Array(r.length);return(0,m.b)(i,r,n),(0,B.Yk)(i,e,t,s,i),i}(u,f,e.normal,o,s),l=function(e,t,r,n,s){if(null==r)return null;const i=new Float32Array(r.length);(0,m.b)(i,r,n,4);for(let e=3;e<i.length;e+=4)i[e]=r[e];return(0,B.M2)(i,e,t,s,i),i}(u,f,e.tangent,o,s);if(r){const{x:e,y:r,z:n}=t;(0,m.t)(u,u,[-e,-r,-(n??0)])}return{position:u,normal:a,tangent:l}}function x(e,t,r){const n=new Float64Array(e.position.length),s=e.position,i=t.x,f=t.y,u=t.z??0,o=R(r?r.unit:null,t.spatialReference);for(let e=0;e<s.length;e+=3)n[e]=(s[e]-i)/o,n[e+1]=(s[e+1]-f)/o,n[e+2]=(s[e+2]-u)/o;return{position:n,normal:e.normal,tangent:e.tangent}}function L(e,t,r){const n=t.spatialReference;P(t,r,F);const s=(0,i.U_)(N,F),f=new Float64Array(e.position.length),u=function(e,t,r,n){const s=(0,B.XO)(e,t,n),i=new Float64Array(s.length);return(0,m.a)(i,s,r),i}(e.position,n,s,f),o=(0,c.XL)(j,s);return{position:u,normal:v(e.normal,e.position,f,n,o),tangent:C(e.tangent,e.position,f,n,o)}}function P(e,t,r){(0,y.B)(e.spatialReference,[e.x,e.y,e.z??0],r,(0,l.rS)(e.spatialReference));const n=R(t?t.unit:null,e.spatialReference);return(0,i.bA)(r,r,[n,n,n]),r}function v(e,t,r,n,s){if(null==e)return null;const i=(0,B.Iz)(e,t,r,n,new Float32Array(e.length));return(0,m.b)(i,i,s),i}function C(e,t,r,n,s){if(null==e)return null;const i=(0,B.wi)(e,t,r,n,new Float32Array(e.length));return(0,m.b)(i,i,s,4),i}function R(e,t){if(null==e)return 1;const r=(0,n.r6)(t);return 1/(0,n.En)(r,"meters",e)}const F=(0,f.Ue)(),N=(0,f.Ue)(),j=(0,s.Ue)()},49921:function(e,t,r){r.d(t,{Iz:function(){return m},M2:function(){return S},To:function(){return T},VS:function(){return A},XO:function(){return B},Yk:function(){return g},w9:function(){return E},wi:function(){return w}});var n=r(13802),s=r(46332),i=r(3965),f=r(3308),u=r(86717),o=r(81095),c=r(61170),a=r(43176),l=r(22349),y=r(35925),p=r(39536),h=r(81936),d=r(6766);const b=()=>n.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function m(e,t,r,n,s){return _(n)?(M(x.TO_PCPF,h.ct.fromTypedArray(e),h.fP.fromTypedArray(t),h.fP.fromTypedArray(r),n,h.ct.fromTypedArray(s)),s):(b().error("Cannot convert spatial reference to PCPF"),s)}function g(e,t,r,n,s){return _(n)?(M(x.FROM_PCPF,h.ct.fromTypedArray(e),h.fP.fromTypedArray(t),h.fP.fromTypedArray(r),n,h.ct.fromTypedArray(s)),s):(b().error("Cannot convert to spatial reference from PCPF"),s)}function B(e,t,r){return(0,l.projectBuffer)(e,t,0,r,(0,c.rS)(t),0,e.length/3),r}function T(e,t,r){return(0,l.projectBuffer)(e,(0,c.rS)(r),0,t,r,0,e.length/3),t}function E(e,t,r){return(0,s.XL)(R,r),(0,d.b)(t,e,R),(0,s.pV)(R)||(0,d.n)(t,t),t}function A(e,t,r){if((0,s.XL)(R,r),(0,d.b)(t,e,R,4),(0,s.pV)(R)||(0,d.n)(t,t,4),e!==t)for(let r=3;r<e.length;r+=4)t[r]=e[r];return t}function w(e,t,r,n,s){if(!_(n))return b().error("Cannot convert spatial reference to PCPF"),s;M(x.TO_PCPF,h.ct.fromTypedArray(e,4*Float32Array.BYTES_PER_ELEMENT),h.fP.fromTypedArray(t),h.fP.fromTypedArray(r),n,h.ct.fromTypedArray(s,4*Float32Array.BYTES_PER_ELEMENT));for(let t=3;t<e.length;t+=4)s[t]=e[t];return s}function S(e,t,r,n,s){if(!_(n))return b().error("Cannot convert to spatial reference from PCPF"),s;M(x.FROM_PCPF,h.ct.fromTypedArray(e,16),h.fP.fromTypedArray(t),h.fP.fromTypedArray(r),n,h.ct.fromTypedArray(s,16));for(let t=3;t<e.length;t+=4)s[t]=e[t];return s}function M(e,t,r,n,i,f){if(!t)return;const o=r.count,l=(0,c.rS)(i);if(O(i))for(let r=0;r<o;r++)n.getVec(r,P),t.getVec(r,v),(0,a.B)(l,P,C,l),(0,s.xO)(R,C),e===x.FROM_PCPF&&(0,s.p4)(R,R),(0,u.t)(v,v,R),f.setVec(r,v);else for(let i=0;i<o;i++){n.getVec(i,P),t.getVec(i,v),(0,a.B)(l,P,C,l),(0,s.xO)(R,C);const o=(0,p.mZ)(r.get(i,1));let c=Math.cos(o);e===x.TO_PCPF&&(c=1/c),R[0]*=c,R[1]*=c,R[2]*=c,R[3]*=c,R[4]*=c,R[5]*=c,e===x.FROM_PCPF&&(0,s.p4)(R,R),(0,u.t)(v,v,R),(0,u.n)(v,v),f.setVec(i,v)}return f}function _(e){return O(e)||function(e){return e.isWebMercator}(e)}function O(e){return e.isWGS84||(0,y.yW)(e)||(0,y.BZ)(e)||(0,y.V2)(e)}var x,L;(L=x||(x={}))[L.TO_PCPF=0]="TO_PCPF",L[L.FROM_PCPF=1]="FROM_PCPF";const P=(0,o.Ue)(),v=(0,o.Ue)(),C=(0,f.Ue)(),R=(0,i.Ue)()},50442:function(e,t,r){r.d(t,{G7:function(){return h},QK:function(){return y},dd:function(){return d},rU:function(){return p},wm:function(){return a},yD:function(){return b},zZ:function(){return l}});var n=r(59801),s=r(13802),i=r(67666),f=r(58626),u=r(51619),o=r(6766);function c(){return s.Z.getLogger("esri.geometry.Mesh")}function a(e){const{vertexSpace:t}=e;if(null!=t.origin)return e.clone();const{anchor:r}=e,n=r.clone(),s=new f.Z({origin:[n.x,n.y,n.z]}),i=e.cloneWithVertexSpace(s),{position:u}=i.vertexAttributes;return i.vertexAttributes.position=(0,o.t)(new Float64Array(u.length),u,[-n.x,-n.y,-(n.z??0)]),i.vertexAttributesChanged(),i}function l(e){return null!=e.origin}function y(e){return l(e.vertexSpace)}function p(e,t){if(!l(e))return null;const[r,n,s]=e.origin;return new i.Z({x:r,y:n,z:s,spatialReference:t})}function h(e,t){const{x:r,y:s,z:i,spatialReference:o}=e,a=[r,s,i??0];if(void 0!==t?.geographic){if((0,n.x9)(c(),"option: geographic",{replacement:"use vertexSpace option instead",version:"4.29",warnOnce:!0}),!t?.vertexSpace)return t?.geographic?new u.Z({origin:a}):new f.Z({origin:a});c().warn("Deprecated geographic flag ignored since vertexSpace option is provided.")}if(!t?.vertexSpace)return o.isGeographic||o.isWebMercator?new u.Z({origin:a}):new f.Z({origin:a});switch(t.vertexSpace){case"local":return new u.Z({origin:a});case"georeferenced":return new f.Z({origin:a});case"georeferenced-absolute":return new f.Z}}function d(e){return e.isGeographic||e.isWebMercator?"local":"georeferenced"}function b(e,t){return"local"===e?new u.Z({origin:t}):new f.Z({origin:t})}}}]);